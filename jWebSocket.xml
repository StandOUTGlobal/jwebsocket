<?xml version="1.0" encoding="UTF-8"?>
<!--
	Document   : jWebSocket.xml
	Created on : March 18, 2010, 10:24 AM
	Author     : aschulze
	Description:
		Configuration of the jWebSocket server.
		This includes engines, servers, plug-ins, rights, roles and users as
		well as logging.
-->

<!-- jWebSocket server configuration -->
<jWebSocket>

	<!-- engines to be instantiated for jWebSocket -->
	<engines>
		<engine>
			<name>TCPEngine</name>
			<id>tcp0</id>
			<jar>jWebSocketTCPEngine-0.8.5.jar</jar>
			<port>8788</port>
			<!-- these domains are accepted by the engine listening on the above mentioned port -->
			<domains>
				<domain>jwebsocket.org</domain>
				<domain>jwebsocket.com</domain>
			</domains>
			<timeout>120000</timeout>
		</engine>
		<engine>
			<name>NettyEngine</name>
			<id>netty0</id>
			<jar>jWebSocketNettyEngine-0.8.5.jar</jar>
			<port>8787</port>
			<!-- these domains are accepted by the engine listening on the above mentioned port -->
			<domains>
				<domain>javawebsocket.org</domain>
				<domain>javawebsocket.com</domain>
			</domains>
			<timeout>120000</timeout>
		</engine>
	</engines>

	<!-- server types to be instantiated for jWebSocket -->
	<servers>
		<server>
			<name>TokenServer</name>
			<id>ts0</id>
			<jar>jWebSocketTokenServer-0.8.5.jar</jar>
		</server>
		<server>
			<name>CustomServer</name>
			<id>cs0</id>
			<jar>jWebSocketCustomServer-0.8.5.jar</jar>
		</server>
	</servers>

	<!-- jWebSocket global rights -->
	<rights>
		<right>
			<ns>org.jWebSocket.global</ns>
			<id>right0</id>
			<description>Description for right0</description>
		</right>
		<right>
			<ns>org.jWebSocket.global</ns>
			<id>right1</id>
			<description>Description for right1</description>
		</right>

		<!-- configuration of chat plug-in specific rights -->
		<!-- list of rights for "User" role (ns + . + id) -->
		<right>
			<ns>org.jWebSocket.plugins.chat</ns>
			<id>broadcast</id>
			<description>Broadcast message to all other clients.</description>
		</right>
		
		<!-- configuration of rpc plug-in specific rights -->
		<right>
			<ns>org.jWebSocket.plugins.rpc</ns>
			<id>rpc</id>
			<description>Allow Remote Procedure Calls (RPC) to server</description>
		</right>
		<right>
			<ns>org.jWebSocket.plugins.rpc</ns>
			<id>rrpc</id>
			<description>Allow Reverse Remote Procedure Calls (RRPC) to other clients</description>
		</right>
	</rights>

	<!-- jWebSocket roles -->
	<roles>
		<role>
			<id>Administrator</id>
			<description>Administrators</description>
			<rights>
				<!-- list of rights for "Administrator" role (ns + . + id) -->
				<right>org.jWebSocket.plugins.chat.broadcast</right>
				<right>org.jWebSocket.plugins.rpc.rpc</right>
				<right>org.jWebSocket.plugins.rpc.rrpc</right>
			</rights>
		</role>
		<role>
			<id>User</id>
			<rights>
				<!-- list of rights for "User" role (ns + . + id) -->
				<right>org.jWebSocket.plugins.chat.broadcast</right>
				<right>org.jWebSocket.plugins.rpc.rpc</right>
				<right>org.jWebSocket.plugins.rpc.rrpc</right>
			</rights>
			<description>Registered and authenticated users.</description>
		</role>
		<role>
			<id>Guest</id>
			<description>Anonymous users (not registered)</description>
			<rights>
				<!-- list of rights for "User" role (ns + . + id) -->
				<right>org.jWebSocket.plugins.rpc.rpc</right>
				<right>org.jWebSocket.plugins.rpc.rrpc</right>
			</rights>
		</role>
	</roles>

	<!-- plug-ins to be instantiated for jWebSocket -->
	<plugins>
		<plugin>
			<name>System</name>
			<ns>org.jWebSocket.plugins.system</ns>
			<id>system0</id>
			<jar>jWebSocketPlugins-0.8.5.jar</jar>
			<!-- plug-in specific settings -->
			<settings>
				<!-- specify whether open,close,login,logout event should be broadcasted -->
				<setting key="broadcastOpenEvent">true</setting>
				<setting key="broadcastCloseEvent">true</setting>
				<setting key="broadcastLoginEvent">true</setting>
				<setting key="broadcastLogoutEvent">true</setting>
			</settings>
		</plugin>
		<plugin>
			<name>Chat</name>
			<id>chat0</id>
			<ns>org.jWebSocket.plugins.chat</ns>
			<jar>jWebSocketPlugins-0.8.5.jar</jar>
		</plugin>
		<plugin>
			<name>RPC</name>
			<id>rpc0</id>
			<ns>org.jWebSocket.plugins.rpc</ns>
			<jar>jWebSocketPlugins-0.8.5.jar</jar>
		</plugin>
	</plugins>

	<!-- jWebSocket logging configuration -->
	<logging>
		<log4j>
			<!-- log4j appender, one of the following options [console|file|rolling] -->
			<appender>console</appender>
			<!-- layout, please refer to http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html -->
			<pattern>%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p - %C{1}: %m%n</pattern>
			<!-- log-level, one of the following options: [all|debug|info|warn|error|fatal|off] -->
			<level>debug</level>
			<!-- filename, used only when appender != console -->
			<filename>jWebSocket.log</filename>
		</log4j>
	</logging>

	<!-- jWebSocket users -->
	<users>
		<user>
			<loginname>aschulze</loginname>
			<firstname>Alexander</firstname>
			<lastname>Schulze</lastname>
			<password>t0p-s3cr3t</password>
			<description>jWebSocket Founder</description>
			<!-- 0=blocked 1=allowed ... future states pending -->
			<status>1</status>
			<roles>
				<!-- the rights of all roles are merged -->
				<role>Administrator</role>
				<role>User</role>
				<role>Guest</role>
			</roles>
		</user>
		<user>
			<loginname>stojadinovicp</loginname>
			<firstname>Predrag</firstname>
			<lastname>Stojadinovic</lastname>
			<password>t0p-s3cr3t</password>
			<description>jWebSocket Committer</description>
			<status>1</status>
			<roles>
				<role>Administrator</role>
				<role>User</role>
				<role>Guest</role>
			</roles>
		</user>
		<user>
			<loginname>psingh</loginname>
			<firstname>Puran</firstname>
			<lastname>Singh</lastname>
			<password>t0p-s3cr3t</password>
			<description>jWebSocket Committer</description>
			<status>1</status>
			<roles>
				<role>Administrator</role>
				<role>User</role>
				<role>Guest</role>
			</roles>
		</user>
		<user>
			<loginname>guest</loginname>
			<firstname>Mr./Mrs.</firstname>
			<lastname>Guest</lastname>
			<!-- no password means that the user does not need a password -->
			<password></password>
			<description>jWebSocket Guest</description>
			<status>1</status>
			<roles>
				<role>Guest</role>
			</roles>
		</user>
	</users>

</jWebSocket>
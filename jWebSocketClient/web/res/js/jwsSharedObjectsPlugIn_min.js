jws.SharedObjectsPlugIn={NS:jws.NS_BASE+".plugins.sharedObjs",DATA_TYPES:["number","string","boolean","object","set","list","map","table"],cb:{},processToken:function(aR){if(aR.ns==jws.SharedObjectsPlugIn.NS){if(aR.name=="created"){if(this.OnSharedObjectCreated){this.OnSharedObjectCreated(aR);}}else if(aR.name=="destroyed"){if(this.OnSharedObjectDestroyed){this.OnSharedObjectDestroyed(aR);}}else if(aR.name=="updated"){if(this.OnSharedObjectUpdated){this.OnSharedObjectUpdated(aR);}}else if(aR.name=="init"){if(this.OnSharedObjectsInit){var bk=JSON.parse(aR.value);this.OnSharedObjectsInit(aR,bk);}}}},createSharedObject:function(aT,bq,P,d){var bj=this.createDefaultResult();if(this.isConnected()){var J={ns:jws.SharedObjectsPlugIn.NS,type:"create",id:aT,datatype:bq,value:P};this.sendToken(J,d);if(this.OnSharedObjectCreated){this.OnSharedObjectCreated(J);}}else{bj.code= -1;bj.localeKey="jws.jsc.res.notConnected";bj.msg="Not connected.";}return bj;},destroySharedObject:function(aT,bq,d){var bj=this.createDefaultResult();if(this.isConnected()){var J={ns:jws.SharedObjectsPlugIn.NS,type:"destroy",id:aT,datatype:bq};this.sendToken(J,d);if(this.OnSharedObjectDestroyed){this.OnSharedObjectDestroyed(J);}}else{bj.code= -1;bj.localeKey="jws.jsc.res.notConnected";bj.msg="Not connected.";}return bj;},getSharedObject:function(aT,bq,d){var bj=this.createDefaultResult();if(this.isConnected()){var J={ns:jws.SharedObjectsPlugIn.NS,type:"get",id:aT,datatype:bq};this.sendToken(J,d);}else{bj.code= -1;bj.localeKey="jws.jsc.res.notConnected";bj.msg="Not connected.";}return bj;},updateSharedObject:function(aT,bq,P,d){var bj=this.createDefaultResult();if(this.isConnected()){var J={ns:jws.SharedObjectsPlugIn.NS,type:"update",id:aT,datatype:bq,value:P};this.sendToken(J,d);if(this.OnSharedObjectUpdated){this.OnSharedObjectUpdated(J);}}else{bj.code= -1;bj.localeKey="jws.jsc.res.notConnected";bj.msg="Not connected.";}return bj;},setSharedObjectsCallbacks:function(A){if(!A){A={};}if(A.OnSharedObjectCreated!==undefined){this.OnSharedObjectCreated=A.OnSharedObjectCreated;}if(A.OnSharedObjectDestroyed!==undefined){this.OnSharedObjectDestroyed=A.OnSharedObjectDestroyed;}if(A.OnSharedObjectUpdated!==undefined){this.OnSharedObjectUpdated=A.OnSharedObjectUpdated;}if(A.OnSharedObjectsInit!==undefined){this.OnSharedObjectsInit=A.OnSharedObjectsInit;}},initSharedObjects:function(d){var bj=this.createDefaultResult();if(this.isConnected()){var J={ns:jws.SharedObjectsPlugIn.NS,type:"init"};this.sendToken(J,d);}else{bj.code= -1;bj.localeKey="jws.jsc.res.notConnected";bj.msg="Not connected.";}return bj;}};jws.oop.addPlugIn(jws.jWebSocketTokenClient,jws.SharedObjectsPlugIn);